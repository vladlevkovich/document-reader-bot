from aiogram.types import Message
from aiogram.filters import Command, CommandStart
from aiogram import Router
from document_agent.kb.kb import keyboard
router = Router()

@router.message(CommandStart())
async def start(message: Message):
    start_text = (
        "üëã –í—ñ—Ç–∞—î–º–æ —É **DocQ&A Bot**!\n\n"
        "–¶–µ–π –±–æ—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º —à–≤–∏–¥–∫–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: –∑–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ —Ñ–∞–π–ª–∏, "
        "—Å—Ç–∞–≤—Ç–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —ñ –±–æ—Ç –∑–Ω–∞–π–¥–µ –ø–æ—Ç—Ä—ñ–±–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.\n\n"
        "üìö **–Ø–∫ –ø—Ä–∞—Ü—é—î –±–æ—Ç:**\n"
        "1Ô∏è‚É£ –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç (PDF, DOCX –∞–±–æ TXT).\n"
        "2Ô∏è‚É£ –ù–∞–ø–∏—à—ñ—Ç—å –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.\n"
        "3Ô∏è‚É£ –û—Ç—Ä–∏–º–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑–∞ –∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥!\n\n"
        "üìñ **–©–æ –±–æ—Ç –º–æ–∂–µ —Ä–æ–±–∏—Ç–∏:**\n"
        "- –®—É–∫–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —É –≤–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö.\n"
        "- –†–æ–±–∏—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –æ–≥–ª—è–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞.\n"
        "- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ–∫—Å—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞.\n\n"
        "üîí **–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å:** –í–∞—à—ñ –¥–∞–Ω—ñ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—é –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é —ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏.\n\n"
        "üì© –ü—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª —ñ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —â–æ–± —Ä–æ–∑–ø–æ—á–∞—Ç–∏!"
        "/start - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞ —ñ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ.\n"
        "/description - –î—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –±–æ—Ç–∞.\n"
        "/read - –í—ñ–¥–ø—Ä–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç —ñ –∑–∞–¥–∞–≤–∞–π –ø–∏—Ç–∞–Ω–Ω—è\n"
        "/help - –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.\n"
        "/reset - –°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø–æ—á–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É.\n\n"
    )
    await message.answer(start_text, parse_mode='Markdown', reply_markup=keyboard)

@router.message(Command('description'))
async def bot_description(message: Message):
    description = (
        "üëã –í—ñ—Ç–∞—î–º–æ —É **DocumentReader Bot**!\n\n"
        "–¶–µ–π –±–æ—Ç –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º —à–≤–∏–¥–∫–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: –∑–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ —Ñ–∞–π–ª–∏, "
        "—Å—Ç–∞–≤—Ç–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —ñ –±–æ—Ç –∑–Ω–∞–π–¥–µ –ø–æ—Ç—Ä—ñ–±–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.\n\n"
        "üìö **–Ø–∫ –ø—Ä–∞—Ü—é—î –±–æ—Ç:**\n"
        "1Ô∏è‚É£ –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç (PDF, DOCX –∞–±–æ TXT).\n"
        "2Ô∏è‚É£ –ù–∞–ø–∏—à—ñ—Ç—å –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω–µ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.\n"
        "3Ô∏è‚É£ –û—Ç—Ä–∏–º–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑–∞ –∫—ñ–ª—å–∫–∞ —Å–µ–∫—É–Ω–¥!\n\n"
        "üìñ **–©–æ –±–æ—Ç –º–æ–∂–µ —Ä–æ–±–∏—Ç–∏:**\n"
        "- –®—É–∫–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —É –≤–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö.\n"
        "- –†–æ–±–∏—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –æ–≥–ª—è–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞.\n"
        "- –í—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–µ–∫—Å—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞.\n\n"
        "üîí **–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å:** –í–∞—à—ñ –¥–∞–Ω—ñ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—é –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é —ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏.\n\n"
        "‚öôÔ∏è **–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:**\n"
        "/start - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞ —ñ –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ –π–æ–≥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ.\n"
        "/description - –î—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –±–æ—Ç–∞.\n"
        "/read - –í—ñ–¥–ø—Ä–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç —ñ –∑–∞–¥–∞–≤–∞–π –ø–∏—Ç–∞–Ω–Ω—è\n"
        "/help - –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.\n"
        "/reset - –°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø–æ—á–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É.\n\n"
        "üì© –ü—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª —ñ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —â–æ–± —Ä–æ–∑–ø–æ—á–∞—Ç–∏!"
    )
    await message.answer(description, parse_mode="Markdown", reply_markup=keyboard)

@router.message(Command('help'))
async def bot_help(message: Message):
    help_text = (
        "üí° **–î–æ–≤—ñ–¥–∫–∞ –ø–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—é –±–æ—Ç–∞**\n\n"
        "**–¶–µ–π –±–æ—Ç –¥–æ–∑–≤–æ–ª—è—î –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ (PDF, DOCX –∞–±–æ TXT) —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —ó—Ö–Ω—ñ–º –∑–º—ñ—Å—Ç–æ–º.**\n\n"
        "üîπ **–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:**\n"
        "/start ‚Äî –ü–æ—á–∞—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é –∑ –±–æ—Ç–æ–º.\n"
        "/read ‚Äî –†–æ–∑–ø–æ—á–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —Ä–æ–±–æ—Ç–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–º. –ë–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å –≤–∞—Å –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ñ–∞–π–ª.\n"
        "/help ‚Äî –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ü–µ –º–µ–Ω—é –∑ –¥–æ–≤—ñ–¥–∫–æ—é.\n"
        "`STOP` ‚Äî –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Å–µ—Å—ñ—é –∑–∞–ø–∏—Ç–∞–Ω—å —ñ –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π —Ñ–∞–π–ª.\n\n"
        "üîπ **–Ø–∫ –ø—Ä–∞—Ü—é—î –±–æ—Ç?**\n"
        "1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/read` –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏.\n"
        "2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç, —è–∫–∏–π —Ö–æ—á–µ—Ç–µ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏.\n"
        "3. –ó–∞–¥–∞–≤–∞–π—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –∑–º—ñ—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞, —ñ –±–æ—Ç –Ω–∞–¥–∞—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.\n"
        "4. –í–≤–µ–¥—ñ—Ç—å `STOP`, —â–æ–± –∑–∞–≤–µ—Ä—à–∏—Ç–∏ —Å–µ—Å—ñ—é, –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π —Ñ–∞–π–ª —ñ –ø–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É.\n\n"
        "üîπ **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ —Ñ–∞–π–ª—ñ–≤:**\n"
        "- PDF\n"
        "- DOCX\n"
        "- TXT\n\n"
        "‚ùóÔ∏è **–ü—Ä–∏–º—ñ—Ç–∫–∞:**\n"
        "- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∞—à –¥–æ–∫—É–º–µ–Ω—Ç —á–∏—Ç–∞—î—Ç—å—Å—è —ñ –Ω–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π –ø–∞—Ä–æ–ª–µ–º.\n"
        "- –Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø–æ–º–∏–ª–∫–∏, –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.\n\n"
        "–ó–∞–ª–∏—à–∏–ª–∏—Å—è –∑–∞–ø–∏—Ç–∞–Ω–Ω—è? –ü–æ—á–∏–Ω–∞–π—Ç–µ —ñ–∑ –∫–æ–º–∞–Ω–¥–∏ `/read`! üòä"
    )
    await message.answer(help_text, reply_markup=keyboard)

